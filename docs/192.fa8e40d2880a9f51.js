"use strict";(self.webpackChunkkuisto=self.webpackChunkkuisto||[]).push([[192],{1192:(H,v,s)=>{s.r(v),s.d(v,{RecipeListModule:()=>X});var d=s(6895),h=s(4859),Z=s(3792),n=s(4006);const k={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let p;const T=new Uint8Array(16);function A(){if(!p&&(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(T)}const a=[];for(let r=0;r<256;++r)a.push((r+256).toString(16).slice(1));const S=function O(r,i,t){if(k.randomUUID&&!i&&!r)return k.randomUUID();const c=(r=r||{}).random||(r.rng||A)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,i){t=t||0;for(let o=0;o<16;++o)i[t+o]=c[o];return i}return function C(r,i=0){return(a[r[i+0]]+a[r[i+1]]+a[r[i+2]]+a[r[i+3]]+"-"+a[r[i+4]]+a[r[i+5]]+"-"+a[r[i+6]]+a[r[i+7]]+"-"+a[r[i+8]]+a[r[i+9]]+"-"+a[r[i+10]]+a[r[i+11]]+a[r[i+12]]+a[r[i+13]]+a[r[i+14]]+a[r[i+15]]).toLowerCase()}(c)};class P{constructor(){this.id=S()}}var e=s(4650),l=s(5412),U=s(4668),m=s(9653),b=s(7392),_=s(4144),u=s(9549),f=s(4108);let F=(()=>{class r{constructor(t,c,o){this.dialogRef=t,this.recipeService=c,this.state=o;const V=o.getValue().recipeState;this.recipeForm=new n.cw({link:new n.NI("",[n.kI.required,n.kI.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),name:new n.NI("",[n.kI.required]),season:new n.NI(V.filter.season,[n.kI.required])})}ngOnInit(){this.getLinkControl()?.valueChanges.subscribe(t=>{this.linkChange(t)})}addRecipe(){const t=Object.assign(new P,this.recipeForm.value);this.recipeService.save(t).subscribe(()=>{alert("created"),this.close()})}close(){this.dialogRef.close()}linkChange(t){t.indexOf("amandinecooking.com")&&console.log("amandine")}getLinkControl(){return this.recipeForm.get("link")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l.so),e.Y36(U.j),e.Y36(m.ZM))},r.\u0275cmp=e.Xpm({type:r,selectors:[["kuisto-add-recipe-dialog"]],decls:20,vars:2,consts:[["mat-dialog-close","",1,"close",3,"click"],["mat-dialog-content",""],[3,"formGroup"],["matInput","","formControlName","link"],["matInput","","formControlName","name"],["controlName","season"],[1,"actions","d-flex","justify-content-center"],["mat-flat-button","",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,c){1&t&&(e.TgZ(0,"mat-icon",0),e.NdJ("click",function(){return c.close()}),e._uU(1,"close"),e.qZA(),e.TgZ(2,"h1"),e._uU(3,"Ajouter une recette"),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"mat-label"),e._uU(8,"Lien de la recette"),e.qZA(),e._UZ(9,"input",3),e.qZA(),e.TgZ(10,"mat-form-field")(11,"mat-label"),e._uU(12,"Nom de la recette"),e.qZA(),e._UZ(13,"input",4),e.qZA(),e._UZ(14,"kuisto-select-season",5),e.qZA(),e.TgZ(15,"div",6)(16,"button",7),e.NdJ("click",function(){return c.close()}),e._uU(17," Annuler "),e.qZA(),e.TgZ(18,"button",8),e.NdJ("click",function(){return c.addRecipe()}),e._uU(19," Ajouter "),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",c.recipeForm),e.xp6(13),e.Q6J("disabled",!c.recipeForm.valid))},dependencies:[b.Hw,l.ZT,l.xY,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,_.Nt,u.KE,u.hX,h.lW,f.s],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:40px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}"],changeDetection:0}),r})();var g=s(5035);let x=(()=>{class r{constructor(t){this.dialog=t}open(t,c={}){return c.width||(c.width="60%"),c.autoFocus=!1,c.panelClass=["kuisto-modal",...c.panelClass||[]],this.dialog.open(t,c)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(l.uw))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var M=s(3238),y=s(1281);const L=["determinateSpinner"];function N(r,i){if(1&r&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&r){const t=e.oxw();e.uIk("viewBox",t._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),e.uIk("r",t._circleRadius())}}const D=(0,M.pj)(class{constructor(r){this._elementRef=r}},"primary"),z=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function J(){return{diameter:R}}}),R=100;let j=(()=>{class r extends D{constructor(t,c,o){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=R,this._noopAnimations="NoopAnimations"===c&&!!o&&!o._forceAnimations,o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,(0,y.su)(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=(0,y.su)(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=(0,y.su)(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,c){if(1&t&&e.Gf(L,5),2&t){let o;e.iGM(o=e.CRH())&&(c._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(t,c){2&t&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===c.mode?c.value:null)("mode",c.mode),e.Udp("width",c.diameter,"px")("height",c.diameter,"px"),e.ekj("_mat-animation-noopable",c._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===c.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[e.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,c){if(1&t&&(e.YNc(0,N,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&t){const o=e.MAs(1);e.xp6(4),e.uIk("viewBox",c._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",c._strokeCircumference(),"px")("stroke-dashoffset",c._strokeDashOffset(),"px")("stroke-width",c._circleStrokeWidth(),"%"),e.uIk("r",c._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",o),e.xp6(2),e.Q6J("ngTemplateOutlet",o),e.xp6(2),e.Q6J("ngTemplateOutlet",o)}},dependencies:[d.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),r})(),W=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez,M.BQ]}),r})(),w=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["kuisto-recipe-card"]],inputs:{recipe:"recipe"},standalone:!0,features:[e.jDz],decls:4,vars:2,consts:[["target","_blank",3,"href"]],template:function(t,c){1&t&&(e.TgZ(0,"h3"),e._uU(1),e.qZA(),e.TgZ(2,"a",0),e._uU(3,"Voir la recette"),e.qZA()),2&t&&(e.xp6(1),e.Oqu(c.recipe.name),e.xp6(1),e.Q6J("href",c.recipe.link,e.LSH))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:200px;height:200px;flex-direction:column;background:white;box-shadow:0 10px 15px -3px #0000001a;border-radius:20px;padding:20px 20px 0}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{width:100%;padding-top:20px;text-align:center;text-decoration:none;color:var(--grey-dark);border-top:1px solid var(--grey-middle)}"],changeDetection:0}),r})(),Y=(()=>{class r{constructor(t,c){this.state=t,this.store=c;const o=t.getValue().recipeState;this.filtersForm=new n.cw({season:new n.NI(o.filter.season),name:new n.NI("")})}ngOnInit(){this.filtersForm.valueChanges.subscribe(t=>this.store.dispatch(g.hg.filterRecipes(t)))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.ZM),e.Y36(m.yh))},r.\u0275cmp=e.Xpm({type:r,selectors:[["kuisto-recipe-list-filters"]],decls:6,vars:1,consts:[[3,"formGroup"],[1,"without-error-container"],["matInput","","formControlName","name"],["controlName","season"]],template:function(t,c){1&t&&(e.TgZ(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Nom de la recette"),e.qZA(),e._UZ(4,"input",2),e.qZA(),e._UZ(5,"kuisto-select-season",3),e.qZA()),2&t&&e.Q6J("formGroup",c.filtersForm)},dependencies:[f.s,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,_.Nt,u.KE,u.hX],styles:["[_nghost-%COMP%]{display:flex;width:100%;padding:20px 0;border-bottom:1px solid var(--grey-middle)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:20%;margin-left:20px}"],changeDetection:0}),r})();function B(r,i){1&r&&e._UZ(0,"mat-spinner")}function G(r,i){1&r&&e._UZ(0,"kuisto-recipe-card",6),2&r&&e.Q6J("recipe",i.$implicit)}const q=Z.Bz.forChild([{path:"",component:(()=>{class r{constructor(t,c){this.modalService=t,this.store=c,this.recipes$=this.store.select(g.$o.selectFilteredRecipes),this.loading$=this.store.select(g.$o.selectIsLoading)}ngOnInit(){this.store.dispatch(g.hg.loadRecipes())}addRecipe(){this.modalService.open(F)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(x),e.Y36(m.yh))},r.\u0275cmp=e.Xpm({type:r,selectors:[["kuisto-season-recipe-list"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-between","header"],[1,"d-flex","align-items-center"],["mat-flat-button","","color","primary",1,"round",3,"click"],[4,"ngIf"],[1,"d-flex","recipes"],[3,"recipe",4,"ngFor","ngForOf"],[3,"recipe"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"Liste des recettes"),e.qZA()(),e.TgZ(4,"button",2),e.NdJ("click",function(){return c.addRecipe()}),e._uU(5," Ajouter une recette "),e.qZA()(),e._UZ(6,"kuisto-recipe-list-filters"),e.YNc(7,B,1,0,"mat-spinner",3),e.ALo(8,"async"),e.TgZ(9,"div",4),e.YNc(10,G,1,1,"kuisto-recipe-card",5),e.ALo(11,"async"),e.qZA()),2&t&&(e.xp6(7),e.Q6J("ngIf",e.lcZ(8,2,c.loading$)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(11,4,c.recipes$)))},dependencies:[d.sg,d.O5,h.lW,j,w,Y,d.Ov],styles:["[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid var(--grey-middle)}[_nghost-%COMP%]   kuisto-select-season[_ngcontent-%COMP%]{margin-left:20px}[_nghost-%COMP%]   .recipes[_ngcontent-%COMP%]{padding:20px;gap:20px}"],changeDetection:0}),r})()},{path:"**",redirectTo:""}]);let $=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[x],imports:[d.ez,l.Is]}),r})(),X=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez,$,h.ot,b.Ps,q,f.s,W,n.UX,_.c,w]}),r})()}}]);